@page "/search-operator"

@inject IStringLocalizer<App> _localizer
@inject NavigationManager _navigationManager
@attribute [Authorize(Roles = "Operator")]

<nav aria-label="breadcrumb">
        <ol class="breadcrumb breadcrumb-no-gutter mb-3 m-md-3">
            <li class="breadcrumb-item active" aria-current="page">@_localizer["SearchOperator"]</li>
        </ol>
  </nav>
   <NavLink class="btn btn-secondary m-3" href="/operator-home">&nbsp;@_localizer["Add"]&nbsp;</NavLink>
   
    <div class="card-body px-4">
        <!-- Card Details -->
         
        <div class="row">
            
          <div class="col-sm-4 mb-2 mb-sm-0">           
          <EditForm Model="@model" OnValidSubmit="HandleValidSubmit" class="body  p-3 mb-5 rounded ">
        <DataAnnotationsValidator />    
         <div class="row">
               @* <div class="ml-lg-3 m-3">
                    <button type="button" class="btn btn-xs btn-soft-secondary mr-1" @onclick="MoveTo">&nbsp;@_localizer["Add"]&nbsp;</button>                   
                </div>*@
               @*  <div class="ml-lg-3 m-3">
                    <button type="button" class="btn btn-xs btn-soft-secondary mr-1" @onclick="MoveToPage">&nbsp;@_localizer["Move page"]&nbsp;</button>                   
                </div>*@
            </div>
               <div class="row d-flex">
                   <div class="col-lg-12 form-group">
                   <div class="input-group input-group-pill">
                       <input type="text" class="form-control" @bind-value="model.LastName" placeholder="@_localizer["LastName"]" aria-label="Last Name" aria-describedby="subscribeButton subscribeSrEmail-error" required="" data-msg="Please enter a valid last name." aria-invalid="true">
                 </div>
                </div>            
               </div>
               <div class="row d-flex">
                   <div class="col-lg-12 form-group">
                    <div class="input-group input-group-pill">
                       <input type="text" class="form-control" @bind-value="model.FirstName" placeholder="@_localizer["FirstName"]" aria-label="First Name" aria-describedby="subscribeButton subscribeSrEmail-error" required="" data-msg="Please enter a valid first name." aria-invalid="true">
                 </div>
                </div>             
              </div>
               <div class="row d-flex">
                   <div class="col-lg-12 form-group">
                    <div class="input-group input-group-pill">
                       <input type="text" class="form-control" @bind-value="model.FatherName" placeholder="@_localizer["FatherName"]" aria-label="First Name" aria-describedby="subscribeButton subscribeSrEmail-error" required="" data-msg="Please enter a valid first name." aria-invalid="true">
                 </div>
                </div>             
              </div>
               <div class="row d-flex">
                   <div class="col-lg-12 form-group">
                    <div class="input-group input-group-pill">
                       <input type="date"  class="form-control" @bind-value="model.DateOfBirth" placeholder="@_localizer["DateOfBirth"]" >

                  </div>
                </div>             
               </div>
  
                <div class="row d-flex">
                   <div class="col-lg-12 form-group">
                    <div class="input-group input-group-pill">
                       <input type="text" class="form-control" @bind-value="model.IndividualPersonalNumber" placeholder="@_localizer["IndividualPersonalNumber"]" aria-label="Individual Place Of Residence" aria-describedby="subscribeButton subscribeSrEmail-error" required="" data-msg="Please enter a valid Place Of Residence." aria-invalid="true">
                  </div>
                </div>             
             </div>                        
            <div class="row">
                <div class="ml-lg-3 m-3">
                    <button type="submit" class="btn btn-xs btn-soft-secondary mr-1">&nbsp;@_localizer["Search"]&nbsp;</button>
                    <NavLink class="btn btn-xs btn-primary" @onclick="ResetSearch">&nbsp;@_localizer["Reset"]&nbsp;</NavLink>
                </div>
            </div>
        </EditForm>
          </div>
          <div class="col-sm-8 mb-2 mb-sm-0 body  p-3 mb-5 rounded">
             <table class="table">
                  <thead>
                    <tr>
                      <th scope="col">#</th>
                       <th scope="col">Прізвище</th>
                        <th scope="col">Ім'я</th>
                       <th scope="col">По батькові</th>
                       <th scope="col">Рік народження</th>
                        <th scope="col">ІПН</th> 
                        <th scope="col">Дія</th> 
                    </tr>
                  </thead>
                  <tbody>
                    @*  @foreach(var item in getAllVehicles)
                       {
                            int index = @getAllVehicles.IndexOf(item)+1;
                      <tr>
                          <NavLink  href="counter"> 
                             <th scope="row">@index</th> 
                         </NavLink>                                           
                          <td>@item.TypeCar</td>
                          <td>@item.BrandOfMmachine</td>
                          <td>@item.StateCarNumber</td>
                          <td>@item.YearOfGraduation.ToString("d")</td>
                          <td>@item.FactoryName</td>  
                          <td>@item.TechnicalCondition</td>                     
                       </tr>       
                      }*@
                                      
            </tbody>
          </table>          
          </div>
        </div>
        <!-- End Card Details -->
      </div>    

@code {
    PersonalDataDto model = new PersonalDataDto();
    SearchOperationDto searchOperation = new SearchOperationDto();

    protected override void OnInitialized()
    {
        model.DateOfBirth = DateTime.Now;
    }

      public void ResetSearch()
    {

    }

    private void Collaps()
    {       
       
    }

    private void HandleValidSubmit()
    {

    }
}
